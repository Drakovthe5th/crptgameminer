services:
  - type: web
    name: cryptogame-web
    env: python
    buildCommand: |
      pip install -r constraints.txt
      pip install -r requirements.txt
    # Remove startCommand and Render will auto-use Procfile's "web" process

  - type: worker
    name: cryptogame-bot
    env: python
    buildCommand: pip install -r requirements.txt
    # Remove startCommand and Render will auto-use Procfile's "worker" process

jobs:
  - type: cron
    name: process-withdrawals
    schedule: "*/30 * * * *"
    runCommand: python scripts/process_withdrawals.py